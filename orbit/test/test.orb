@Main
module M with Orb::Types::Intrinsics with Orb::Core::Main {
    type constructor B<T>(x T)

    type Z = B<Int>

    (Z) add (a Z, b Z) (Z) {
        return Z(a.x + b.x)
    }

    (Z) foo () (B<Int>) {
        return Z.add(Z(1), Z(2))
    }

    (self Main) main () () {
        print Z.foo().x
    }
}