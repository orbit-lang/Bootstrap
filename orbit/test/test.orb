@Main
module M with Orb::Types::Intrinsics with Orb::Core::Main with Orb::Core::Types {
    trait Anything(x Int, s Symbol)
    type T

    type projection T : Anything
       where x = 1
       where s = :s

    type constructor Wrapped<N>(n N)
        where N : Anything

    type I = Wrapped<T>

    type projection I : Anything
        where x = 1
        where s = :S

    /* HERE - Methods have to be specialised now! */
    /* HERE - Types with projected properties w/ default values must generate an explicit initialiser */
    (self Wrapped<I>) foo () () {
        print self.n
    }

    (self Main) main () () {

    }
}
